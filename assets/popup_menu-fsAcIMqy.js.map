{"version":3,"file":"popup_menu-fsAcIMqy.js","sources":["../../src/js/home-filter.js","../../src/js/popup_menu.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE = 'https://tasty-treats-backend.p.goit.global/api';\n\nconst categoryListEl = document.getElementById('category-list');\nconst allCategoriesBtn = document.querySelector('.all-categories-button');\nconst searchInput = document.getElementById('search-input');\nconst recipeGridEl = document.getElementById('recipe-grid');\nconst emptyRecipeGridEl = document.getElementById('empty-recipe-grid');\n\nconst resetBtn = document.getElementById('reset-button');\n\nconst timeSelect = document.getElementById('time-select');\nconst areaSelect = document.getElementById('area-select');\nconst ingredientSelect = document.getElementById('ingredient-select');\nconst paginationEl = document.getElementById('pagination');\n\nlet selectedCategory = null;\nlet searchQuery = '';\nlet selectedTime = '';\nlet selectedArea = '';\nlet selectedIngredient = '';\nlet currentPage = 1;\nconst recipesPerPage = 9;\n\n// Favorileri localStorage destekli Set ile yönetiyoruz\nlet favorites = [];\n\nfunction isInFavorites(id) {\n  return favorites.some(item => item._id === id);\n}\n\nfunction saveFavoritesToLocalStorage() {\n  localStorage.setItem('favorites', JSON.stringify(favorites));\n}\n\nfunction loadFavoritesFromLocalStorage() {\n  const favs = localStorage.getItem('favorites');\n  if (favs) {\n    try {\n      const favArray = JSON.parse(favs);\n      favArray.forEach(item => favorites.push(item));\n    } catch {\n      // Hatalı veri varsa temizle\n      localStorage.removeItem('favorites');\n    }\n  }\n}\n\nasync function loadCategories() {\n  try {\n    const res = await axios.get(`${API_BASE}/categories`);\n    const categories = res.data;\n    categoryListEl.innerHTML = '';\n\n    categories.forEach(cat => {\n      const li = document.createElement('li');\n      const btn = document.createElement('button');\n      btn.textContent = cat.name;\n      btn.classList.add('category-btn');\n      btn.addEventListener('click', () => {\n        selectedCategory = cat.name;\n        currentPage = 1;\n        updateCategoryActive();\n        fetchAndRenderRecipes();\n      });\n      li.appendChild(btn);\n      categoryListEl.appendChild(li);\n    });\n  } catch (err) {\n    console.error('Kategori yüklenirken hata:', err);\n  }\n}\n\nfunction updateCategoryActive() {\n  allCategoriesBtn.classList.remove('active');\n  categoryListEl\n    .querySelectorAll('li')\n    .forEach(li => li.classList.remove('active'));\n\n  if (selectedCategory === null) {\n    allCategoriesBtn.classList.add('active');\n  } else {\n    categoryListEl.querySelectorAll('li').forEach(li => {\n      const btn = li.querySelector('button');\n      if (btn.textContent === selectedCategory) {\n        li.classList.add('active');\n      }\n    });\n  }\n}\n\nallCategoriesBtn.addEventListener('click', () => {\n  selectedCategory = null;\n  currentPage = 1;\n  updateCategoryActive();\n  fetchAndRenderRecipes();\n});\n\nsearchInput.addEventListener('input', () => {\n  searchQuery = searchInput.value.trim();\n  currentPage = 1;\n  fetchAndRenderRecipes();\n});\n\nresetBtn.addEventListener('click', () => {\n  selectedCategory = null;\n  searchQuery = '';\n  selectedTime = '';\n  selectedArea = '';\n  selectedIngredient = '';\n  searchInput.value = '';\n  timeSelect.value = '';\n  areaSelect.value = '';\n  ingredientSelect.value = '';\n  currentPage = 1;\n  updateCategoryActive();\n  fetchAndRenderRecipes();\n});\n\ntimeSelect.addEventListener('change', () => {\n  selectedTime = timeSelect.value;\n  currentPage = 1;\n  fetchAndRenderRecipes();\n});\n\nareaSelect.addEventListener('change', () => {\n  selectedArea = areaSelect.value;\n  currentPage = 1;\n  fetchAndRenderRecipes();\n});\n\ningredientSelect.addEventListener('change', () => {\n  selectedIngredient = ingredientSelect.value;\n  currentPage = 1;\n  fetchAndRenderRecipes();\n});\n\nfunction fillTimeOptions() {\n  const times = [15, 30, 45, 60, 90, 120];\n  timeSelect.innerHTML = `<option value=\"\">All times</option>`;\n  times.forEach(t => {\n    const option = document.createElement('option');\n    option.value = t;\n    option.textContent = `${t} minutes`;\n    timeSelect.appendChild(option);\n  });\n}\n\nasync function fillAreaOptions() {\n  try {\n    const res = await axios.get(`${API_BASE}/areas`);\n    const areas = res.data;\n    areaSelect.innerHTML = `<option value=\"\">All areas</option>`;\n    areas.forEach(area => {\n      const option = document.createElement('option');\n      option.value = area.name;\n      option.textContent = area.name;\n      areaSelect.appendChild(option);\n    });\n  } catch (err) {\n    console.error('Area options yüklenirken hata:', err);\n  }\n}\n\nasync function fillIngredientOptions() {\n  try {\n    const res = await axios.get(`${API_BASE}/ingredients`);\n    const ingredients = res.data;\n    ingredientSelect.innerHTML = `<option value=\"\">All ingredients</option>`;\n    ingredients.forEach(ing => {\n      const option = document.createElement('option');\n      option.value = ing._id;\n      option.textContent = ing.name;\n      ingredientSelect.appendChild(option);\n    });\n  } catch (err) {\n    console.error('Ingredient options yüklenirken hata:', err);\n  }\n}\n\nasync function fetchAndRenderRecipes(page = 1) {\n  currentPage = page;\n  recipeGridEl.innerHTML = 'Loading...';\n\n  try {\n    const params = {\n      page: currentPage,\n      limit: recipesPerPage,\n    };\n    if (selectedCategory) params.category = selectedCategory;\n    if (searchQuery) params.title = searchQuery;\n    if (selectedTime) params.time = selectedTime;\n    if (selectedArea) params.area = selectedArea;\n    if (selectedIngredient) params.ingredient = selectedIngredient;\n\n    const res = await axios.get(`${API_BASE}/recipes`, { params });\n    const recipes = res.data.results || [];\n    const totalPages = res.data.totalPages || 1;\n\n    if (!recipes.length) {\n      recipeGridEl.innerHTML = '';\n      emptyRecipeGridEl.innerHTML = `<svg\n        class=\"icon-empty-recipes\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 97 83\"\n        width=\"97\"\n        height=\"83\"\n      >\n        <use href=\"../svg/symbol-defs.svg#icon-empty-recipes\"></use>\n        </svg>\n        <p>No recipes found.</p>`;\n      paginationEl.innerHTML = '';\n      return;\n    }\n    emptyRecipeGridEl.innerHTML = '';\n    renderRecipes(recipes);\n    renderPagination(totalPages, currentPage);\n  } catch (err) {\n    console.error('Tarifler yüklenirken hata:', err);\n    recipeGridEl.innerHTML = '<p>Error loading recipes.</p>';\n    paginationEl.innerHTML = '';\n  }\n}\n\nfunction renderRating(rating) {\n  let str = '';\n  for (let i = 0; i < 5; i++) {\n    if (i < parseInt(rating)) {\n      str += ` <svg\n        class=\"icon-yellow-star\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n      >\n        <use href=\"../svg/symbol-defs.svg#icon-yellow-star\"></use>\n        </svg>`;\n    } else {\n      str += ` <svg\n        class=\"icon-empty-star\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n      >\n        <use href=\"../svg/symbol-defs.svg#icon-empty-star\"></use>\n        </svg>`;\n    }\n  }\n  return str;\n}\n\nfunction renderFavoriteIcon(id) {\n  const isFavorite = isInFavorites(id);\n  return isFavorite\n    ? `<svg\n            class=\"icon-white-heart\"\n            viewBox=\"0 0 24 24\"\n        >\n            <use href=\"../svg/symbol-defs.svg#icon-white-heart\"></use>\n        </svg>`\n    : `<svg\n            class=\"icon-heart\"\n            viewBox=\"0 0 24 24\"\n        >\n            <use href=\"../svg/symbol-defs.svg#icon-heart\"></use>\n        </svg>`;\n}\n\nfunction getRecipeIdSafe(r) {\n  return r?._id || r?.id;\n}\n\nfunction renderRecipes(recipes) {\n  recipeGridEl.innerHTML = '';\n  recipes.forEach(recipe => {\n    const card = document.createElement('div');\n    card.className = 'recipe-card';\n\n    const imageUrl =\n      recipe.thumb || 'https://via.placeholder.com/280x180?text=No+Image';\n    card.style.backgroundImage = `linear-gradient(0.94deg, rgba(5, 5, 5, 0.6) 4.82%, rgba(5, 5, 5, 0.5) 18.72%), url(${imageUrl})`;\n\n    const ratingValue = parseFloat(recipe.rating).toFixed(1);\n\n    card.innerHTML = `\n     <button id='favorite-button-${\n       recipe._id\n     }' class=\"favorite-btn\">${renderFavoriteIcon(recipe._id)}</button>\n     \n      <div class=\"recipe-card-bottom\">\n        <div class=\"recipe-card-desc\">\n            <h3>${recipe.title}</h3>\n            <p>${recipe.description || ''}</p>\n        </div>\n     \n        <div class=\"recipe-card-button\">\n            <div class=\"stars\">\n                <div class=\"floatCount\">\n                ${ratingValue}\n                </div>\n                ${renderRating(ratingValue)}\n            </div>\n            <button class=\"see-recipe-btn\">See Recipe</button>\n       </div>\n      </div>\n    `;\n\n    card.querySelector('.favorite-btn').addEventListener('click', () => {\n      toggleFavorite(recipe);\n    });\n\n    // Popup açma\n    card.querySelector('.see-recipe-btn').addEventListener('click', () => {\n      const id = getRecipeIdSafe(recipe);\n      if (typeof window.openPopup === 'function') {\n        window.openPopup(id || recipe);\n      } else {\n        console.error('⚠️ openPopup fonksiyonu tanımlı değil!');\n      }\n    });\n\n    recipeGridEl.appendChild(card);\n  });\n}\n\nexport function toggleFavorite(recipe, byPassLocalSave = false) {\n  if (isInFavorites(recipe._id)) {\n    favorites = favorites.filter(item => item._id !== recipe._id);\n  } else {\n    favorites.push(recipe);\n  }\n\n  const favoriteButton = document.getElementById(\n    `favorite-button-${recipe._id}`\n  );\n\n  if (favoriteButton) {\n    favoriteButton.innerHTML = renderFavoriteIcon(recipe._id);\n  }\n\n  !byPassLocalSave && saveFavoritesToLocalStorage();\n}\n\nfunction renderPagination(totalPages, currentPage) {\n  paginationEl.innerHTML = '';\n\n  const createBtn = (\n    text,\n    page,\n    disabled = false,\n    active = false,\n    className = ''\n  ) => {\n    const btn = document.createElement('button');\n    btn.innerHTML = text;\n    btn.className = className;\n    if (active) btn.classList.add('active');\n    if (disabled) btn.classList.add('disabled');\n    btn.disabled = disabled;\n    btn.addEventListener('click', () => {\n      if (!disabled) fetchAndRenderRecipes(page);\n    });\n    return btn;\n  };\n\n  paginationEl.appendChild(\n    createBtn(\n      `<svg\n            class=\"icon-left-arrow-1 double\"\n            viewBox=\"0 0 48 48\"\n        >\n            <use href=\"../svg/symbol-defs.svg#icon-left-arrow-1\" transform=\"translate(-7, 0)\"></use>\n            <use href=\"../svg/symbol-defs.svg#icon-left-arrow-1\" transform=\"translate(20, 0)\"></use>\n        </svg>`,\n      1,\n      currentPage === 1,\n      false,\n      'page-arrow-icon'\n    )\n  );\n  paginationEl.appendChild(\n    createBtn(\n      `<svg\n            class=\"icon-left-arrow-1\"\n            viewBox=\"0 0 24 24\"\n        >\n            <use href=\"../svg/symbol-defs.svg#icon-left-arrow-1\"></use>\n        </svg>`,\n      currentPage - 1,\n      currentPage === 1,\n      false,\n      'page-arrow-icon'\n    )\n  );\n\n  for (let i = 1; i <= totalPages; i++) {\n    if (i === 1 || i === totalPages || Math.abs(currentPage - i) <= 1) {\n      paginationEl.appendChild(createBtn(i, i, false, currentPage === i));\n    } else if (\n      (i === 2 && currentPage > 3) ||\n      (i === totalPages - 1 && currentPage < totalPages - 2)\n    ) {\n      const dots = document.createElement('span');\n      dots.textContent = '...';\n      dots.classList.add('dots');\n      paginationEl.appendChild(dots);\n    }\n  }\n\n  paginationEl.appendChild(\n    createBtn(\n      `<svg\n            class=\"icon-right-arrow-1\"\n            viewBox=\"0 0 24 24\"\n        >\n            <use href=\"../svg/symbol-defs.svg#icon-right-arrow-1\"></use>\n        </svg>`,\n      currentPage + 1,\n      currentPage === totalPages,\n      false,\n      'page-arrow-icon'\n    )\n  );\n  paginationEl.appendChild(\n    createBtn(\n      `<span><svg\n            class=\"icon-right-arrow-1 double\"\n            viewBox=\"0 0 48 48\"\n        >\n            <use href=\"../svg/symbol-defs.svg#icon-right-arrow-1\" transform=\"translate(-7, 0)\"></use>\n            <use href=\"../svg/symbol-defs.svg#icon-right-arrow-1\" transform=\"translate(20, 0)\"></use>\n        </svg></span>`,\n      totalPages,\n      currentPage === totalPages,\n      false,\n      'page-arrow-icon'\n    )\n  );\n}\n\nasync function loadPopularRecipes() {\n  try {\n    const response = await axios.get(`${API_BASE}/recipes/popular`);\n    const recipes = response.data;\n    const popularList = document.querySelector('#popular-list');\n    popularList.innerHTML = '';\n\n    recipes.forEach(recipe => {\n      const li = document.createElement('li');\n      li.classList.add('popular-card');\n\n      const image =\n        recipe.preview ||\n        recipe.thumb ||\n        'https://via.placeholder.com/100x70?text=No+Image';\n      const title = recipe.title || 'Untitled';\n      const description =\n        recipe.description || recipe.instructions || 'No description available';\n\n      li.className = 'popular-card';\n      li.innerHTML = `\n  <img src=\"${image}\" alt=\"${title}\" />\n  <div class=\"popular-card-info\">\n    <h4 class=\"popular-card-title\" >${title}</h4>\n    <p class=\"popular-card-desc\">${description}</p>\n  </div>\n`;\n\n      li.addEventListener('click', () => {\n        const id = getRecipeIdSafe(recipe);\n        if (typeof window.openPopup === 'function') {\n          window.openPopup(id || recipe);\n        } else {\n          console.error('⚠️ openPopup fonksiyonu tanımlı değil!');\n        }\n      });\n\n      popularList.appendChild(li);\n    });\n  } catch (error) {\n    console.error('Popüler tarifler alınamadı:', error);\n  }\n}\n\nwindow.addEventListener('DOMContentLoaded', async () => {\n  loadFavoritesFromLocalStorage();\n\n  selectedCategory = null;\n  selectedTime = '';\n  selectedArea = '';\n  selectedIngredient = '';\n  updateCategoryActive();\n  await loadCategories();\n  fillTimeOptions();\n  await fillAreaOptions();\n  await fillIngredientOptions();\n  await fetchAndRenderRecipes();\n  await loadPopularRecipes();\n});\n","// js/popup_menu.js — favori toggle + rating + detay fetch + responsive düzen\nconst API_ROOT = 'https://tasty-treats-backend.p.goit.global/api';\n\nimport { toggleFavorite } from './home-filter.js';\n\n/* ===== Helpers ===== */\nconst qs = (s, p = document) => p.querySelector(s);\nconst qsa = (s, p = document) => [...p.querySelectorAll(s)];\nconst show = el => el && el.classList.remove('hidden');\nconst hide = el => el && el.classList.add('hidden');\nconst esc = s =>\n  (s ?? '').toString().replace(\n    /[&<>\"']/g,\n    m =>\n      ({\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#39;',\n      }[m])\n  );\nconst format2Trunc = v => {\n  const n = Number.parseFloat(String(v ?? '').replace(',', '.'));\n  if (!Number.isFinite(n)) return '0.00';\n  const t = Math.trunc(n * 100) / 100;\n  return t.toFixed(2);\n};\n\n/* ===== Sprite helper (yıldızlar için) ===== */\nconst SPRITE_PATH = '../img/icons.svg';\nfunction svgIcon(name, className = '') {\n  return `<svg class=\"icon ${className}\" aria-hidden=\"true\" focusable=\"false\">\n    <use href=\"${SPRITE_PATH}#icon-${name}\"></use>\n  </svg>`;\n}\n\n/* ===== Favorites (localStorage: OBJE DİZİSİ) ===== */\nfunction getFavorites() {\n  try {\n    const v = JSON.parse(localStorage.getItem('favorites'));\n    return Array.isArray(v) ? v : [];\n  } catch {\n    return [];\n  }\n}\nfunction setFavorites(arr) {\n  localStorage.setItem('favorites', JSON.stringify(arr || []));\n  window.dispatchEvent(new Event('favorites:updated'));\n}\nfunction getIdSafe(obj) {\n  return obj?._id || obj?.id || obj?.recipeId || '';\n}\nfunction findIndexById(list, id) {\n  const key = String(id);\n  return (list || []).findIndex(r => String(getIdSafe(r)) === key);\n}\nfunction isFavorite(id) {\n  return findIndexById(getFavorites(), id) !== -1;\n}\nfunction makeFavoritePayload(src) {\n  const id = getIdSafe(src);\n  const title = src?.title || '';\n  const description = src?.description || '';\n  const rating = Number(src?.rating) || 0;\n  const preview =\n    src?.preview || src?.thumb || src?.image_url || src?.imageUrl || '';\n  let category = src?.category;\n  if (!category) category = src?.category?.name || src?.categoryName || '';\n  const categoryObj =\n    typeof category === 'string' ? { name: category } : category || {};\n  return {\n    ...src,\n    _id: id,\n    title,\n    description,\n    rating,\n    preview,\n    category: categoryObj,\n  };\n}\nfunction toggleFavoriteById(id, recipeObjForAdd) {\n  const list = getFavorites();\n  const idx = findIndexById(list, id);\n  toggleFavorite(recipeObjForAdd, true);\n  if (idx !== -1) {\n    list.splice(idx, 1);\n    setFavorites(list);\n    return false;\n  }\n  const payload = makeFavoritePayload(recipeObjForAdd || { _id: id });\n  list.unshift(payload);\n  setFavorites(list);\n  return true;\n}\n\n/* ===== Global durum ===== */\nlet currentRecipe = null;\nlet currentRating = 0;\nwindow.__currentRecipeId = '';\n\n/* ===== Refs ===== */\nfunction refs() {\n  return {\n    overlay: qs('#popup-overlay'),\n    content: qs('#popup-content'),\n    pmVideo: qs('#pm-video'),\n    pmIframe: qs('#pm-iframe'),\n    pmImage: qs('#pm-image'),\n    pmTitle: qs('#pm-title'),\n    pmRatingVal: qs('#pm-rating-val'),\n    pmStars: qs('#pm-stars'),\n    pmTime: qs('#pm-time'),\n    pmIngredients: qs('#pm-ingredients'),\n    pmTags: qs('#pm-tags'),\n    pmDesc: qs('#pm-desc'),\n    favBtn: qs('#pm-fav-btn'),\n    rateBtn: qs('#pm-rate-btn'),\n    ratingOverlay: qs('#rating-overlay'),\n    ratingStars: qs('#rating-stars'),\n    ratingValueEl: qs('#rating-value'),\n    ratingEmail: qs('#rating-email'),\n    ratingSend: qs('#rating-send'),\n    ratingHint: qs('#rating-hint'),\n    playBtn: qs('#pm-play-btn'),\n    clickCatcher: qs('#pm-click-catcher'),\n  };\n}\n\n/* ===== Yıldızlar (popup başlığı altındaki statik gösterim) ===== */\nconst starFilledHTML = `<span class=\"star filled\">${svgIcon('Star')}</span>`;\nconst starEmptyHTML = `<span class=\"star empty\">${svgIcon(\n  'Star-empty'\n)}</span>`;\nfunction renderStaticStars(container, val) {\n  if (!container) return;\n  const n = Number.parseFloat(String(val ?? '').replace(',', '.'));\n  const rating = Number.isFinite(n) ? n : 0;\n  const full = Math.max(0, Math.min(5, Math.floor(rating)));\n  const empty = 5 - full;\n  container.innerHTML = `<span class=\"star-row\">\n    ${starFilledHTML.repeat(full)}${starEmptyHTML.repeat(empty)}\n  </span>`;\n}\n\n/* ===== Rating modal yıldız boyama ===== */\nfunction clearRatingStars(starsRoot) {\n  if (!starsRoot) return;\n  qsa('svg path', starsRoot).forEach(p => p.setAttribute('fill', '#dcdcdc'));\n}\nfunction paintRatingStars(starsRoot, val) {\n  if (!starsRoot) return;\n  clearRatingStars(starsRoot);\n  const full = Math.floor(val);\n  const half = val % 1 >= 0.5;\n  qsa('.star-container', starsRoot).forEach((c, idx) => {\n    const num = idx + 1;\n    const path = qs('path', c);\n    if (!path) return;\n    if (num <= full) path.setAttribute('fill', '#eea10b');\n    else if (num === full + 1 && half)\n      path.setAttribute('fill', `url(#halfGradient-${num})`);\n  });\n}\nfunction validateRatingForm(r) {\n  const email = r.ratingEmail?.value.trim() || '';\n  const okEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  const ok = currentRating > 0 && okEmail;\n  if (r.ratingSend) r.ratingSend.disabled = !ok;\n  if (r.ratingHint)\n    r.ratingHint.textContent = ok ? '' : 'Enter valid email and select rating.';\n}\n\n/* ===== Tablet/desktop yerleşimi: tags + meta aynı satır ===== */\nlet __topRowInserted = false;\nconst BREAKPOINT = 780;\n\nfunction ensureTopRow() {\n  const r = refs();\n  if (!r.content) return;\n\n  // yerleştirme noktaları\n  const ingredientsEl = r.pmIngredients;\n  const tagsEl = r.pmTags;\n  const metaEl = qs('.meta-line', r.content);\n\n  if (!tagsEl || !metaEl) return;\n\n  if (window.innerWidth >= BREAKPOINT) {\n    if (!__topRowInserted) {\n      const top = document.createElement('div');\n      top.className = 'top-row';\n      // ingredients'tan önce göstermek için:\n      r.content.insertBefore(top, ingredientsEl);\n      top.appendChild(tagsEl);\n      top.appendChild(metaEl);\n      __topRowInserted = true;\n    }\n  } else {\n    // mobilde özgün akışa geri dön\n    if (__topRowInserted) {\n      // meta eski yerinde zaten ingredients'tan önceydi; ingredients'tan sonra tags vardı.\n      r.content.insertBefore(metaEl, ingredientsEl); // meta ingredients'ın üstünde kalsın\n      r.content.insertBefore(tagsEl, r.pmDesc); // tags tekrar description'dan önce\n      const top = qs('.top-row', r.content);\n      top && top.remove();\n      __topRowInserted = false;\n    }\n  }\n}\n\n/* ===== renderDetails: popup alanlarını doldurur ===== */\nfunction renderDetails(recipe) {\n  const r = refs();\n  if (!r.content) return;\n\n  const id = String(recipe._id || recipe.id || '');\n  if (id) {\n    r.content.dataset.recipeId = id;\n    if (r.ratingOverlay) r.ratingOverlay.dataset.recipeId = id;\n    window.__currentRecipeId = id;\n  }\n\n  if (r.pmTitle) r.pmTitle.textContent = recipe.title || 'Untitled';\n  if (r.pmRatingVal) r.pmRatingVal.textContent = format2Trunc(recipe.rating);\n  renderStaticStars(r.pmStars, recipe.rating || 0);\n  if (r.pmTime) r.pmTime.textContent = recipe.time ? recipe.time + ' min' : '';\n\n  const yt = recipe.youtube || recipe.youtubeUrl || '';\n  if (yt) {\n    show(r.pmVideo);\n    hide(r.pmImage);\n    const vid = yt.match(/(?:v=|\\/)([0-9A-Za-z_-]{11})(?:\\b|&|$)/)?.[1] || yt;\n    if (r.pmIframe) {\n      r.pmIframe.src = `https://www.youtube.com/embed/${vid}?enablejsapi=1&rel=0&modestbranding=1&playsinline=1`;\n    }\n  } else {\n    hide(r.pmVideo);\n    show(r.pmImage);\n    const img =\n      recipe.image_url ||\n      recipe.imageUrl ||\n      recipe.preview ||\n      recipe.thumb ||\n      '';\n    if (r.pmImage)\n      r.pmImage.style.backgroundImage = img ? `url('${esc(img)}')` : '';\n  }\n\n  if (r.pmIngredients) {\n    r.pmIngredients.innerHTML = '';\n    (recipe.ingredients || []).forEach(it => {\n      const name = typeof it === 'string' ? it : it?.name || '';\n      const measure = typeof it === 'string' ? '' : it?.measure || '';\n      const row = document.createElement('div');\n      row.className = 'ing-row';\n      row.innerHTML = `<span class=\"ing-name\">${name}</span><span class=\"ing-measure\">${measure}</span>`;\n      r.pmIngredients.appendChild(row);\n    });\n  }\n\n  if (r.pmTags) {\n    r.pmTags.innerHTML = '';\n    (recipe.tags || []).forEach(tag => {\n      const span = document.createElement('span');\n      span.className = 'tag-chip';\n      span.textContent = `#${tag}`;\n      r.pmTags.appendChild(span);\n    });\n  }\n\n  if (r.pmDesc) r.pmDesc.textContent = recipe.description || '';\n  if (r.favBtn && id)\n    r.favBtn.textContent = isFavorite(id)\n      ? 'Remove favorite'\n      : 'Add to favorite';\n\n  // geniş ekranda üst satırı kur\n  ensureTopRow();\n}\n\nfunction syncFavBtnText() {\n  const r = refs();\n  const id = r.content?.dataset?.recipeId || window.__currentRecipeId || '';\n  if (!r.favBtn || !id) return;\n  r.favBtn.textContent = isFavorite(id) ? 'Remove favorite' : 'Add to favorite';\n}\n\n/* ============ GLOBAL: openPopup ============ */\nwindow.openPopup = async function openPopup(recipeOrId) {\n  const r = refs();\n  if (!r.overlay) return;\n\n  // body scroll kilidi\n  document.documentElement.style.overflow = 'hidden';\n\n  if (typeof recipeOrId === 'object' && recipeOrId) {\n    currentRecipe = recipeOrId;\n  } else {\n    const idStr = String(recipeOrId ?? '');\n    currentRecipe = { _id: idStr };\n  }\n\n  renderDetails(currentRecipe);\n  show(r.overlay);\n  syncFavBtnText();\n\n  const id = String(currentRecipe._id || currentRecipe.id || '');\n  if (!id) return;\n  try {\n    const res = await fetch(`${API_ROOT}/recipes/${encodeURIComponent(id)}`);\n    if (res.ok) {\n      const fresh = await res.json();\n      currentRecipe = { ...currentRecipe, ...fresh };\n      renderDetails(currentRecipe);\n      syncFavBtnText();\n    }\n  } catch {}\n};\n\n/* ======= Event listeners (popup, fav, rating vs.) ======= */\ndocument.addEventListener('click', e => {\n  const r = refs();\n  if (e.target.closest('.popup-x') || (r.overlay && e.target === r.overlay)) {\n    hide(r.overlay);\n    document.documentElement.style.overflow = ''; // scroll kilidini aç\n    if (r.pmIframe) r.pmIframe.src = '';\n  }\n});\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !qs('#rating-overlay.hidden')) return; // rating açıksa kapatma akışı aşağıda\n  if (e.key === 'Escape') {\n    const r = refs();\n    hide(r.overlay);\n    document.documentElement.style.overflow = '';\n    if (r.pmIframe) r.pmIframe.src = '';\n  }\n});\n\ndocument.addEventListener('click', e => {\n  const r = refs();\n  if (!e.target.closest('#pm-fav-btn')) return;\n  const id = r.content?.dataset?.recipeId || window.__currentRecipeId || '';\n  if (!id) return;\n  const added = toggleFavoriteById(id, currentRecipe);\n  if (r.favBtn)\n    r.favBtn.textContent = added ? 'Remove favorite' : 'Add to favorite';\n  window.dispatchEvent(new Event('favorites:updated'));\n});\n\n/* ===== Video Play / Pause ===== */\n(function setupVideoControls() {\n  const r = refs();\n  if (!r.pmVideo) return;\n  let isPlaying = false;\n  r.playBtn?.addEventListener('click', () => {\n    if (!r.pmIframe?.src) return;\n    const sep = r.pmIframe.src.includes('?') ? '&' : '?';\n    if (!r.pmIframe.src.includes('autoplay=1'))\n      r.pmIframe.src += `${sep}autoplay=1`;\n    r.pmVideo.classList.add('is-playing');\n    isPlaying = true;\n  });\n  r.clickCatcher?.addEventListener('click', () => {\n    if (!r.pmIframe?.src) return;\n    r.pmIframe.src = r.pmIframe.src.replace(/[?&]autoplay=1/, '');\n    r.pmVideo.classList.remove('is-playing');\n    isPlaying = false;\n  });\n})();\n\n/* ===== Rating overlay ===== */\ndocument.addEventListener('click', e => {\n  const r = refs();\n  if (e.target.closest('#pm-rate-btn')) {\n    currentRating = 0;\n    if (r.ratingValueEl) r.ratingValueEl.textContent = '0.00';\n    if (r.ratingEmail) r.ratingEmail.value = '';\n    if (r.ratingHint) r.ratingHint.textContent = '';\n    if (r.ratingSend) r.ratingSend.disabled = true;\n    clearRatingStars(r.ratingStars);\n    show(r.ratingOverlay);\n    return;\n  }\n  if (\n    e.target.closest('#rating-close') ||\n    (r.ratingOverlay && e.target === r.ratingOverlay)\n  ) {\n    hide(r.ratingOverlay);\n  }\n});\nwindow.addEventListener('keydown', e => {\n  if (e.key !== 'Escape') return;\n  const r = refs();\n  if (!r.ratingOverlay?.classList.contains('hidden')) hide(r.ratingOverlay);\n});\n\ndocument.addEventListener('click', e => {\n  const r = refs();\n  const halfBtn = e.target.closest('.half-btn');\n  if (!halfBtn || !r.ratingStars?.contains(halfBtn)) return;\n  const val = parseFloat(halfBtn.dataset.val || halfBtn.dataset.value);\n  if (!val) return;\n  currentRating = val;\n  if (r.ratingValueEl) r.ratingValueEl.textContent = val.toFixed(2);\n  paintRatingStars(r.ratingStars, val);\n  validateRatingForm(r);\n});\ndocument.addEventListener('input', e => {\n  const r = refs();\n  if (e.target === r.ratingEmail) validateRatingForm(r);\n});\ndocument.addEventListener('click', async e => {\n  const r = refs();\n  if (!e.target.closest('#rating-send')) return;\n  const id =\n    r.ratingOverlay?.dataset?.recipeId || r.content?.dataset?.recipeId || '';\n  if (!id) return;\n  const payload = {\n    rate: currentRating,\n    email: r.ratingEmail?.value.trim() || '',\n  };\n  try {\n    if (r.ratingSend) r.ratingSend.disabled = true;\n    const res = await fetch(\n      `${API_ROOT}/recipes/${encodeURIComponent(id)}/rating`,\n      {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      }\n    );\n    if (!res.ok) throw new Error('Failed to send rating');\n    if (r.ratingHint) {\n      r.ratingHint.textContent = 'Thanks for rating!';\n      r.ratingHint.classList.add('ok');\n    }\n    try {\n      const fresh = await fetch(\n        `${API_ROOT}/recipes/${encodeURIComponent(id)}`\n      ).then(x => x.json());\n      if (r.pmRatingVal)\n        r.pmRatingVal.textContent = format2Trunc(fresh?.rating);\n      renderStaticStars(r.pmStars, fresh?.rating ?? 0);\n    } catch {}\n    setTimeout(() => hide(r.ratingOverlay), 900);\n  } catch (err) {\n    if (r.ratingHint) {\n      r.ratingHint.textContent = err?.message || 'Error sending rating.';\n      r.ratingHint.classList.remove('ok');\n    }\n  } finally {\n    if (r.ratingSend) r.ratingSend.disabled = false;\n  }\n});\n\n/* ===== Resize: üst satırı canlı güncelle ===== */\nwindow.addEventListener('resize', ensureTopRow);\n"],"names":["API_BASE","categoryListEl","allCategoriesBtn","searchInput","recipeGridEl","emptyRecipeGridEl","resetBtn","timeSelect","areaSelect","ingredientSelect","paginationEl","selectedCategory","searchQuery","selectedTime","selectedArea","selectedIngredient","currentPage","recipesPerPage","favorites","isInFavorites","id","item","saveFavoritesToLocalStorage","loadFavoritesFromLocalStorage","favs","loadCategories","categories","axios","cat","li","btn","updateCategoryActive","fetchAndRenderRecipes","err","fillTimeOptions","times","t","option","fillAreaOptions","areas","area","fillIngredientOptions","ingredients","ing","page","params","res","recipes","totalPages","renderRecipes","renderPagination","renderRating","rating","str","i","renderFavoriteIcon","getRecipeIdSafe","r","recipe","card","imageUrl","ratingValue","toggleFavorite","byPassLocalSave","favoriteButton","createBtn","text","disabled","active","className","dots","loadPopularRecipes","popularList","image","title","description","error","API_ROOT","qs","s","p","qsa","show","el","hide","esc","m","format2Trunc","v","n","SPRITE_PATH","svgIcon","name","getFavorites","setFavorites","arr","getIdSafe","obj","findIndexById","list","key","isFavorite","makeFavoritePayload","src","preview","category","toggleFavoriteById","recipeObjForAdd","idx","payload","currentRecipe","currentRating","refs","starFilledHTML","starEmptyHTML","renderStaticStars","container","val","full","empty","clearRatingStars","starsRoot","paintRatingStars","half","c","num","path","validateRatingForm","email","okEmail","ok","__topRowInserted","BREAKPOINT","ensureTopRow","ingredientsEl","tagsEl","metaEl","top","renderDetails","yt","vid","img","it","measure","row","tag","span","syncFavBtnText","recipeOrId","fresh","e","added","sep","halfBtn","x"],"mappings":"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"}